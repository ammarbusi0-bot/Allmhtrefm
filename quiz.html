<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù†ÙˆØ± Ø§Ù„ÙØ®Ù… - Ø£Ø³Ø¦Ù„Ø© Ø¯ÙŠÙ†ÙŠØ©</title>
    
    <style>
        /* CSS Ø§Ù„Ø°ÙŠ Ø£Ø±Ø³Ù„ØªÙ‡ Ø³Ø§Ø¨Ù‚Ø§Ù‹ ÙŠØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡Ùˆ */
        @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Cairo:wght@400;700&display=swap');
        
        :root {
            --main-bg-color: #f0f4f8;        
            --text-color: #1a1a1a;
            --card-bg-color: #ffffff;
            --accent-color: #b8860b;         
            --accent-color-light: #ffd700;   
            --shadow-color: rgba(0, 0, 0, 0.15);
            --font-family: 'Cairo', 'Amiri', serif;
        }
        .dark-mode {
            --main-bg-color: #0e1628;        
            --text-color: #f0e68c;           
            --card-bg-color: #1a243a;
            --accent-color: #ffd700;         
            --accent-color-light: #b8860b;
            --shadow-color: rgba(0, 0, 0, 0.5);
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: var(--font-family);
            background-color: var(--main-bg-color); color: var(--text-color);
            line-height: 1.8; transition: background-color 0.5s, color 0.5s;
            padding: 20px; direction: rtl;
        }
        header { 
            display: flex; justify-content: space-between; align-items: center; 
            padding: 20px 0; margin-bottom: 20px; 
        }
        header h1 { 
            font-size: 2.5rem; color: var(--accent-color); 
            text-shadow: 1px 1px 3px var(--accent-color-light); 
        }
        #theme-toggle { 
            background-color: var(--accent-color); color: var(--card-bg-color); border: none; 
            padding: 10px 20px; border-radius: 25px; cursor: pointer; font-weight: bold;
            transition: all 0.3s; 
        }
        #theme-toggle:hover { 
            background-color: var(--accent-color-light); color: var(--text-color);
            box-shadow: 0 4px 10px var(--shadow-color);
        }
        nav { 
            display: flex; flex-wrap: wrap; gap: 20px; 
            margin-bottom: 30px; 
            padding: 10px 0;
            justify-content: center;
            border-bottom: 2px solid var(--accent-color);
            border-top: 2px solid var(--accent-color);
        }
        nav a {
            color: var(--accent-color); 
            text-decoration: none; 
            font-size: 1.1rem; 
            padding: 5px 10px;
            border-bottom: 2px solid transparent;
            transition: color 0.3s, border-bottom 0.3s;
            font-weight: 700;
        }
        nav a:hover {
            color: var(--accent-color-light);
            border-bottom: 2px solid var(--accent-color-light);
        }
        main { max-width: 900px; margin: 0 auto; }
        .card { 
            background-color: var(--card-bg-color); padding: 30px; border-radius: 15px; 
            box-shadow: 0 8px 25px var(--shadow-color); 
            border-top: 5px solid var(--accent-color);
            margin-bottom: 30px;
        }
        .card h2 { 
            color: var(--accent-color); margin-bottom: 20px; 
            border-bottom: 2px solid var(--accent-color-light); 
            padding-bottom: 8px; font-size: 1.8rem; font-weight: 700;
        }
        .question-box {
            background-color: var(--main-bg-color);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .question-box p {
            font-size: 1.2rem;
            margin-bottom: 15px;
            font-weight: 700;
            color: var(--accent-color);
        }
        .answer-btn {
            display: block;
            width: 100%;
            padding: 12px;
            margin-bottom: 10px;
            border: 2px solid var(--accent-color-light);
            border-radius: 8px;
            background: none;
            color: var(--text-color);
            cursor: pointer;
            transition: background 0.2s, color 0.2s, opacity 0.2s;
            text-align: right;
            font-size: 1rem;
        }
        .answer-btn:hover:not(:disabled) {
            background: var(--accent-color);
            color: white;
        }
        .answer-btn:disabled {
            opacity: 0.5;
            cursor: default;
        }

        #fifty-fifty-btn:disabled {
            background-color: #6c757d !important;
        }
        
        /* ØªØ¹Ø¯ÙŠÙ„ Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
        @media (max-width: 767px) {
            header { flex-direction: column; gap: 15px; }
            nav { flex-direction: column; gap: 10px; }
        }
    </style>
</head>
<body class="light-mode">
    <header>
        <h1>â“ Ø£Ø³Ø¦Ù„Ø© Ø¯ÙŠÙ†ÙŠØ© ÙˆØ§Ø®ØªØ¨Ø§Ø±Ø§Øª</h1>
        <button id="theme-toggle">ğŸŒ™ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ</button>
    </header>
    
    <nav> 
        <a href="index.html">Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… (Ø§Ù„Ù…ØµØ­Ù)</a>
        <a href="hadith.html">Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ« Ø§Ù„Ù†Ø¨ÙˆÙŠØ©</a>
        <a href="quiz.html">Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø¯ÙŠÙ†ÙŠØ©</a> 
    </nav>

    <main>
        <section class="card">
            <h2>ğŸ§  Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„Ø¯ÙŠÙ†ÙŠØ©</h2>
            <p>Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù„ÙƒÙ„ Ø³Ø¤Ø§Ù„ (Ø§Ù„Ø¬ÙˆÙ„Ø© Ø±Ù‚Ù… <span id="round-number">1</span>):</p>
            
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <button id="fifty-fifty-btn" style="
                    background-color: #dc3545; color: white; border: none; padding: 8px 15px; border-radius: 8px; 
                    cursor: pointer; font-weight: bold; transition: opacity 0.3s;
                ">50/50 (Ø­Ø°Ù Ø¥Ø¬Ø§Ø¨ØªÙŠÙ†)</button>
                <div id="timer-display" style="
                    font-size: 1.5rem; color: var(--accent-color); font-weight: bold;
                ">20</div>
            </div>

            <div id="quiz-container">
                 </div>
            
            <p style="text-align: center; margin-top: 20px;">Ø§Ù„Ù†ØªÙŠØ¬Ø©: <span id="score-display">0</span> / 10</p>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù†ÙˆØ±</p>
    </footer>

    <script>
        // 1. Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ù…Ù† questions.js)
        const QUIZ_QUESTIONS = [
            { question: "1. ÙƒÙ… Ø¹Ø¯Ø¯ Ø³ÙˆØ± Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŸ", options: ["113 Ø³ÙˆØ±Ø©", "114 Ø³ÙˆØ±Ø©", "116 Ø³ÙˆØ±Ø©", "120 Ø³ÙˆØ±Ø©"], correctIndex: 1 },
            { question: "2. Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù†Ø¨ÙŠ Ø§Ù„Ù…Ù„Ù‚Ø¨ Ø¨Ù€ 'Ø®Ù„ÙŠÙ„ Ø§Ù„Ù„Ù‡'ØŸ", options: ["Ù…ÙˆØ³Ù‰ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…", "Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…", "ÙŠÙˆØ³Ù Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…", "Ø¹ÙŠØ³Ù‰ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…"], correctIndex: 1 },
            { question: "3. Ù…Ø§ Ù‡ÙŠ Ø£Ø·ÙˆÙ„ Ø³ÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŸ", options: ["Ø³ÙˆØ±Ø© Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†", "Ø³ÙˆØ±Ø© Ø§Ù„Ø¨Ù‚Ø±Ø©", "Ø³ÙˆØ±Ø© Ø§Ù„Ù†Ø³Ø§Ø¡", "Ø³ÙˆØ±Ø© Ø§Ù„ÙƒÙ‡Ù"], correctIndex: 1 },
            { question: "4. Ù…ØªÙ‰ ÙÙØ±Ø¶ ØµÙŠØ§Ù… Ø´Ù‡Ø± Ø±Ù…Ø¶Ø§Ù†ØŸ", options: ["Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© Ù„Ù„Ù‡Ø¬Ø±Ø©", "Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù„Ù„Ù‡Ø¬Ø±Ø©", "Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø© Ù„Ù„Ù‡Ø¬Ø±Ø©", "Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø© Ù„Ù„Ù‡Ø¬Ø±Ø©"], correctIndex: 0 },
            { question: "5. Ù…Ù† Ù‡Ùˆ Ø£ÙˆÙ„ Ø§Ù„Ø®Ù„ÙØ§Ø¡ Ø§Ù„Ø±Ø§Ø´Ø¯ÙŠÙ†ØŸ", options: ["Ø¹Ù…Ø± Ø¨Ù† Ø§Ù„Ø®Ø·Ø§Ø¨", "Ø¹Ù„ÙŠ Ø¨Ù† Ø£Ø¨ÙŠ Ø·Ø§Ù„Ø¨", "Ø£Ø¨Ùˆ Ø¨ÙƒØ± Ø§Ù„ØµØ¯ÙŠÙ‚", "Ø¹Ø«Ù…Ø§Ù† Ø¨Ù† Ø¹ÙØ§Ù†"], correctIndex: 2 },
            { question: "6. Ù…Ø§ Ù‡Ùˆ Ø¹Ø¯Ø¯ Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŸ", options: ["Ø£Ø±Ø¨Ø¹Ø©", "Ø®Ù…Ø³Ø©", "Ø³ØªØ©", "Ø³Ø¨Ø¹Ø©"], correctIndex: 1 },
            { question: "7. Ù…Ø§ Ø§Ø³Ù… Ù†Ø§Ù‚Ø© Ø§Ù„Ø±Ø³ÙˆÙ„ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…ØŸ", options: ["Ø§Ù„Ù‚ØµÙˆØ§Ø¡", "Ø§Ù„Ø¹Ø¶Ø¨Ø§Ø¡", "Ø§Ù„Ø¬Ø¯Ø¹Ø§Ø¡", "Ø§Ù„Ø¨Ø±Ø§Ø¡"], correctIndex: 0 },
            { question: "8. ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ù‡Ø¬Ø±ÙŠ ÙƒØ§Ù†Øª ØºØ²ÙˆØ© Ø¨Ø¯Ø± Ø§Ù„ÙƒØ¨Ø±Ù‰ØŸ", options: ["Ø§Ù„Ø«Ø§Ù†ÙŠØ©", "Ø§Ù„Ø«Ø§Ù„Ø«Ø©", "Ø§Ù„Ø®Ø§Ù…Ø³Ø©", "Ø§Ù„Ø³Ø§Ø¯Ø³Ø©"], correctIndex: 0 },
            { question: "9. Ù…Ù† Ù‡Ùˆ Ø§Ù„ØµØ­Ø§Ø¨ÙŠ Ø§Ù„Ø°ÙŠ Ø§Ù‡ØªØ² Ù„Ù…ÙˆØªÙ‡ Ø¹Ø±Ø´ Ø§Ù„Ø±Ø­Ù…Ù†ØŸ", options: ["Ø¹Ù…Ø± Ø¨Ù† Ø§Ù„Ø®Ø·Ø§Ø¨", "Ø³Ø¹Ø¯ Ø¨Ù† Ù…Ø¹Ø§Ø°", "Ø¨Ù„Ø§Ù„ Ø¨Ù† Ø±Ø¨Ø§Ø­", "Ø£Ø¨Ùˆ Ø¹Ø¨ÙŠØ¯Ø© Ø¨Ù† Ø§Ù„Ø¬Ø±Ø§Ø­"], correctIndex: 1 },
            { question: "10. Ù…Ø§ Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© 'Ø§Ù„ÙØ±Ù‚Ø§Ù†'ØŸ", options: ["Ø§Ù„Ù†ÙˆØ±", "Ø§Ù„Ù‡Ø¯Ù‰", "Ø§Ù„ÙØ§ØµÙ„ Ø¨ÙŠÙ† Ø§Ù„Ø­Ù‚ ÙˆØ§Ù„Ø¨Ø§Ø·Ù„", "Ø§Ù„Ø¹Ù„Ù…"], correctIndex: 2 },
            { question: "11. ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„Ù…ÙØ±ÙˆØ¶Ø© ÙÙŠ Ø§Ù„ÙŠÙˆÙ…ØŸ", options: ["Ø£Ø±Ø¨Ø¹Ø©", "Ø®Ù…Ø³Ø©", "Ø³ØªØ©", "Ø³Ø¨Ø¹Ø©"], correctIndex: 1 },
            { question: "12. ÙƒÙ… ÙŠÙˆÙ… ÙŠØ¨Ù‚Ù‰ Ø§Ù„Ø¯Ø¬Ø§Ù„ ÙÙŠ Ø§Ù„Ø£Ø±Ø¶ØŸ", options: ["Ø£Ø±Ø¨Ø¹ÙˆÙ† ÙŠÙˆÙ…Ø§Ù‹", "Ø³Ø¨Ø¹ÙˆÙ† ÙŠÙˆÙ…Ø§Ù‹", "Ø¹Ø§Ù… ÙƒØ§Ù…Ù„", "Ù…Ø§Ø¦Ø© ÙŠÙˆÙ…"], correctIndex: 0 },
            { question: "13. Ù…Ù† Ù‡ÙŠ Ø£Ù… Ø§Ù„Ù…Ø¤Ù…Ù†ÙŠÙ† Ø§Ù„ØªÙŠ ØªØ²ÙˆØ¬Ù‡Ø§ Ø§Ù„Ø±Ø³ÙˆÙ„ ÙˆÙ‡ÙŠ Ø¨ÙƒØ±ØŸ", options: ["Ø¹Ø§Ø¦Ø´Ø© Ø¨Ù†Øª Ø£Ø¨ÙŠ Ø¨ÙƒØ±", "Ø®Ø¯ÙŠØ¬Ø© Ø¨Ù†Øª Ø®ÙˆÙŠÙ„Ø¯", "Ø­ÙØµØ© Ø¨Ù†Øª Ø¹Ù…Ø±", "Ø²ÙŠÙ†Ø¨ Ø¨Ù†Øª Ø®Ø²ÙŠÙ…Ø©"], correctIndex: 0 },
            { question: "14. Ù…Ø§ Ù‡Ùˆ Ø£ÙˆÙ„ Ù…Ø§ ÙŠØ­Ø§Ø³Ø¨ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø¹Ø¨Ø¯ ÙŠÙˆÙ… Ø§Ù„Ù‚ÙŠØ§Ù…Ø©ØŸ", options: ["Ø§Ù„Ø²ÙƒØ§Ø©", "Ø§Ù„ØµÙ„Ø§Ø©", "Ø§Ù„ØµÙŠØ§Ù…", "Ø§Ù„Ø´Ù‡Ø§Ø¯ØªØ§Ù†"], correctIndex: 1 },
            { question: "15. ÙÙŠ Ø£ÙŠ Ø´Ù‡Ø± ÙŠØ¤Ø¯ÙŠ Ø§Ù„Ù…Ø³Ù„Ù…ÙˆÙ† ÙØ±ÙŠØ¶Ø© Ø§Ù„Ø­Ø¬ØŸ", options: ["Ø´ÙˆØ§Ù„", "Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©", "Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©", "Ø±Ø¬Ø¨"], correctIndex: 2 },
            { question: "16. Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ùƒ Ø§Ù„Ù…ÙˆÙƒÙ„ Ø¨Ø§Ù„Ù†ÙØ® ÙÙŠ Ø§Ù„ØµÙˆØ±ØŸ", options: ["Ø¬Ø¨Ø±ÙŠÙ„", "Ù…ÙŠÙƒØ§Ø¦ÙŠÙ„", "Ø¥Ø³Ø±Ø§ÙÙŠÙ„", "Ù…Ù„Ùƒ Ø§Ù„Ù…ÙˆØª"], correctIndex: 2 },
            { question: "17. Ù…Ù† Ø§Ù„Ø°ÙŠ Ø£Ø´Ø§Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø³ÙˆÙ„ Ø¨Ø­ÙØ± Ø§Ù„Ø®Ù†Ø¯Ù‚ØŸ", options: ["Ø£Ø¨Ùˆ Ø¨ÙƒØ± Ø§Ù„ØµØ¯ÙŠÙ‚", "Ø³Ù„Ù…Ø§Ù† Ø§Ù„ÙØ§Ø±Ø³ÙŠ", "Ø­Ù…Ø²Ø© Ø¨Ù† Ø¹Ø¨Ø¯ Ø§Ù„Ù…Ø·Ù„Ø¨", "Ø¹Ù„ÙŠ Ø¨Ù† Ø£Ø¨ÙŠ Ø·Ø§Ù„Ø¨"], correctIndex: 1 },
            { question: "18. Ø£ÙŠÙ† ØªÙ‚Ø¹ Ø§Ù„ÙƒØ¹Ø¨Ø© Ø§Ù„Ù…Ø´Ø±ÙØ©ØŸ", options: ["Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©", "Ø§Ù„Ù‚Ø¯Ø³", "Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©", "Ø§Ù„Ø·Ø§Ø¦Ù"], correctIndex: 2 },
            { question: "19. ÙƒÙ… Ø³Ù†Ø© Ø§Ø³ØªÙ…Ø± Ù†Ø²ÙˆÙ„ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŸ", options: ["Ø­ÙˆØ§Ù„ÙŠ 23 Ø³Ù†Ø©", "Ø­ÙˆØ§Ù„ÙŠ 10 Ø³Ù†ÙˆØ§Øª", "Ø­ÙˆØ§Ù„ÙŠ 30 Ø³Ù†Ø©", "Ø­ÙˆØ§Ù„ÙŠ 15 Ø³Ù†Ø©"], correctIndex: 0 },
            { question: "20. Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„ØªÙŠ Ù„Ø§ ØªØ¨Ø¯Ø£ Ø¨Ø§Ù„Ø¨Ø³Ù…Ù„Ø©ØŸ", options: ["Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©", "Ø³ÙˆØ±Ø© Ø§Ù„ØªÙˆØ¨Ø©", "Ø³ÙˆØ±Ø© Ø§Ù„Ù†Ù…Ù„", "Ø³ÙˆØ±Ø© Ø§Ù„Ø¥Ø®Ù„Ø§Øµ"], correctIndex: 1 },
            // Ø£Ø¶Ù Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ù‡Ù†Ø§ Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª
        ];
        
        // 2. Ø§Ù„Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠ (Ù…Ù† script.js)
        document.addEventListener('DOMContentLoaded', () => {
            const themeToggleBtn = document.getElementById('theme-toggle');
            const body = document.body;
            const THEME_KEY = 'appTheme';
            
            const quizContainer = document.getElementById('quiz-container');
            const scoreDisplay = document.getElementById('score-display');
            const roundNumberDisplay = document.getElementById('round-number');
            const timerDisplay = document.getElementById('timer-display');
            const fiftyFiftyBtn = document.getElementById('fifty-fifty-btn'); 

            const QUESTION_TIME = 20; 
            let countdown;
            let helpUsedInRound = false; 

            let questionsPool = []; 
            let questionsForRound = []; 
            let currentQuestionIndex = 0;
            let score = 0;
            let roundNumber = 1;

            // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ
            const loadTheme = () => {
                const savedTheme = localStorage.getItem(THEME_KEY) || 'light-mode';
                body.className = savedTheme;
                if (themeToggleBtn) {
                    themeToggleBtn.textContent = savedTheme === 'dark-mode' ? 'â˜€ï¸ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ' : 'ğŸŒ™ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ';
                }
            };
            
            if (themeToggleBtn) {
                themeToggleBtn.addEventListener('click', () => {
                    const newTheme = body.classList.contains('light-mode') ? 'dark-mode' : 'light-mode';
                    body.className = newTheme;
                    localStorage.setItem(THEME_KEY, newTheme);
                    loadTheme();
                });
            }

            // Ø¯Ø§Ù„Ø© Ø®Ù„Ø· Ø§Ù„Ù…ØµÙÙˆÙØ©
            const shuffleArray = (array) => {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
            };

            const startQuiz = () => {
                // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø£Ù‚Ù„ Ù…Ù† 10 Ø£Ø³Ø¦Ù„Ø© Ù…ØªØ¨Ù‚ÙŠØ©ØŒ Ù†Ø¹ÙŠØ¯ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© ÙˆÙ†Ø®Ù„Ø·Ù‡Ø§
                if (questionsPool.length < 10) {
                    questionsPool = [...QUIZ_QUESTIONS];
                    shuffleArray(questionsPool);
                }
                
                questionsForRound = questionsPool.splice(0, 10); 
                currentQuestionIndex = 0;
                score = 0;
                
                helpUsedInRound = false; 
                if (fiftyFiftyBtn) {
                    fiftyFiftyBtn.disabled = false;
                    fiftyFiftyBtn.style.opacity = '1';
                }
                
                roundNumberDisplay.textContent = roundNumber;
                scoreDisplay.textContent = score;
                displayQuestion();
            };

            const startTimer = () => {
                let timeLeft = QUESTION_TIME;
                if (timerDisplay) timerDisplay.textContent = timeLeft;

                countdown = setInterval(() => {
                    timeLeft--;
                    if (timerDisplay) timerDisplay.textContent = timeLeft;

                    if (timeLeft <= 0) {
                        clearInterval(countdown);
                        handleTimeout();
                    }
                }, 1000);
            };
            
            const handleTimeout = () => {
                clearInterval(countdown);
                
                document.querySelectorAll('.answer-btn').forEach(btn => {
                    btn.disabled = true;
                    const qData = questionsForRound[currentQuestionIndex];
                    if (parseInt(btn.getAttribute('data-original-index')) === qData.correctIndex) {
                        btn.style.backgroundColor = '#28a745'; 
                        btn.style.color = 'white';
                    }
                });

                quizContainer.insertAdjacentHTML('beforeend', '<p style="color: red; text-align: center; margin-top: 15px;">Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª! Ø§Ù„Ø³Ø¤Ø§Ù„ Ù„Ù… ÙŠØ­ØªØ³Ø¨.</p>');

                setTimeout(() => {
                    currentQuestionIndex++;
                    displayQuestion();
                }, 1500);
            };

            const displayQuestion = () => {
                if (currentQuestionIndex >= questionsForRound.length) {
                    endRound();
                    return;
                }
                
                clearInterval(countdown);
                startTimer();

                const qData = questionsForRound[currentQuestionIndex];
                
                const optionsWithIndices = qData.options.map((text, index) => ({ text, index }));
                shuffleArray(optionsWithIndices);

                let optionsHTML = '';
                optionsWithIndices.forEach(opt => {
                    optionsHTML += `<button class="answer-btn" data-original-index="${opt.index}">${opt.text}</button>`;
                });

                // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠ Ù„Ù„Ø³Ø¤Ø§Ù„ Ù…Ù† Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø®Ø²Ù† Ø«Ù… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ³Ù„Ø³Ù„ÙŠ Ù„Ù„Ø¬ÙˆÙ„Ø©
                const questionText = qData.question.split('.').slice(1).join('.');

                quizContainer.innerHTML = `
                    <div class="question-box" id="current-question-box">
                        <p>${(currentQuestionIndex + 1)}. ${questionText.trim()}</p>
                        ${optionsHTML}
                    </div>
                `;

                document.querySelectorAll('.answer-btn').forEach(button => {
                    button.addEventListener('click', handleAnswer);
                });

                if (fiftyFiftyBtn && !helpUsedInRound) {
                    fiftyFiftyBtn.onclick = useFiftyFifty;
                }
            };

            const useFiftyFifty = () => {
                if (helpUsedInRound) return;

                const qData = questionsForRound[currentQuestionIndex];
                const correctIndex = qData.correctIndex;
                let incorrectButtons = [];

                document.querySelectorAll('.answer-btn').forEach(button => {
                    if (parseInt(button.getAttribute('data-original-index')) !== correctIndex) {
                        incorrectButtons.push(button);
                    }
                });

                shuffleArray(incorrectButtons);
                
                for (let i = 0; i < 2 && i < incorrectButtons.length; i++) {
                    incorrectButtons[i].disabled = true;
                    incorrectButtons[i].style.opacity = '0.3'; 
                    incorrectButtons[i].style.textDecoration = 'line-through';
                }

                helpUsedInRound = true;
                if (fiftyFiftyBtn) {
                    fiftyFiftyBtn.disabled = true;
                    fiftyFiftyBtn.style.opacity = '0.5';
                }
            };

            const handleAnswer = (event) => {
                clearInterval(countdown); 
                
                const selectedButton = event.target;
                const originalIndex = parseInt(selectedButton.getAttribute('data-original-index'));
                const qData = questionsForRound[currentQuestionIndex];
                
                document.querySelectorAll('.answer-btn').forEach(btn => btn.disabled = true);
                
                document.querySelectorAll('.answer-btn').forEach(btn => {
                    if (parseInt(btn.getAttribute('data-original-index')) === qData.correctIndex) {
                        btn.style.backgroundColor = '#28a745'; 
                        btn.style.color = 'white';
                    }
                });

                if (originalIndex === qData.correctIndex) {
                    score++;
                } else {
                    selectedButton.style.backgroundColor = '#dc3545'; 
                    selectedButton.style.color = 'white';
                }
                
                scoreDisplay.textContent = score;

                setTimeout(() => {
                    currentQuestionIndex++;
                    displayQuestion();
                }, 1500);
            };

            const endRound = () => {
                roundNumber++;
                clearInterval(countdown); 
                if (timerDisplay) timerDisplay.textContent = QUESTION_TIME; 

                quizContainer.innerHTML = `
                    <div style="text-align: center;">
                        <h2>ğŸ‰ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø¬ÙˆÙ„Ø© ${roundNumber - 1}</h2>
                        <p>Ù„Ù‚Ø¯ Ø£Ø­Ø±Ø²Øª **${score}** Ù…Ù† **10** Ù†Ù‚Ø§Ø·.</p>
                        <p style="font-weight: bold; color: var(--accent-color);">${score >= 7 ? 'Ù†ØªØ§Ø¦Ø¬ Ù…Ù…ØªØ§Ø²Ø©! Ø§Ø³ØªÙ…Ø±.' : 'ÙŠÙ…ÙƒÙ†Ùƒ ØªØ­Ù‚ÙŠÙ‚ Ù†ØªÙŠØ¬Ø© Ø£ÙØ¶Ù„ ÙÙŠ Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©.'}</p>
                        <button id="next-round-btn" style="
                            background-color: var(--accent-color); color: white; border: none; 
                            padding: 10px 20px; border-radius: 25px; cursor: pointer; margin-top: 15px; font-weight: bold;
                        ">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¬ÙˆÙ„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© (${roundNumber})</button>
                    </div>
                `;
                document.getElementById('next-round-btn').addEventListener('click', startQuiz);
            };

            // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
            loadTheme();
            if (quizContainer) {
                questionsPool = [...QUIZ_QUESTIONS];
                shuffleArray(questionsPool);
                startQuiz();
            }
        });
    </script>
</body>
</html>
